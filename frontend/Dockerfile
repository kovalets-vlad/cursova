# Використовуємо стабільну версію Node.js (Slim для економії місця)
FROM node:20-slim

# Робоча директорія всередині Docker
WORKDIR /app

# Копіюємо лише файли зі списками бібліотек (це пришвидшує збірку)
COPY package*.json ./

# Встановлюємо всі залежності (включаючи Vite)
RUN npm install

# Копіюємо весь інший код фронтенду
COPY . .

# Відкриваємо порт 5173 (стандарт для Vite)
EXPOSE 5173

# Запускаємо сервер розробки
# Додаємо --host 0.0.0.0, щоб контейнер "віддавав" сайт на ваш комп'ютер
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]